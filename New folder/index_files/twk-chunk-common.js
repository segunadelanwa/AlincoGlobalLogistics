/*! For license information please see twk-chunk-common.js.LICENSE */
(window.tawkJsonp=window.tawkJsonp||[]).push([["chunk-common"],{"028e":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return w}));var i=n("5868"),o=n("7f46"),r=n("e8f9"),a=n("f0b0"),s=n("27a6");function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(){u=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,i){var r=e&&e.prototype instanceof v?e:v,a=Object.create(r.prototype),s=new x(i||[]);return o(a,"_invoke",{value:P(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",m="executing",w="completed",g={};function v(){}function y(){}function b(){}var k={};d(k,a,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(A([])));S&&S!==n&&i.call(S,a)&&(k=S);var _=b.prototype=v.prototype=Object.create(k);function I(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function W(t,e){function n(o,r,a,s){var u=h(t[o],t,r);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==c(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var r;o(this,"_invoke",{value:function(t,i){function o(){return new e((function(e,o){n(t,i,e,o)}))}return r=r?r.then(o,o):o()}})}function P(e,n,i){var o=p;return function(r,a){if(o===m)throw Error("Generator is already running");if(o===w){if("throw"===r)throw a;return{value:t,done:!0}}for(i.method=r,i.arg=a;;){var s=i.delegate;if(s){var c=C(s,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=w,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=m;var u=h(e,n,i);if("normal"===u.type){if(o=i.done?w:"suspendedYield",u.arg===g)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(o=w,i.method="throw",i.arg=u.arg)}}}function C(e,n){var i=n.method,o=e.iterator[i];if(o===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var r=h(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return r.next=r}}throw new TypeError(c(e)+" is not iterable")}return y.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=d(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,l,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},I(W.prototype),d(W.prototype,s,(function(){return this})),e.AsyncIterator=W,e.async=function(t,n,i,o,r){void 0===r&&(r=Promise);var a=new W(f(t,n,i,o),r);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(_),d(_,l,"Generator"),d(_,a,(function(){return this})),d(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=A,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(i,o){return s.type="throw",s.arg=e,n.next=i,o&&(n.method="next",n.arg=t),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:A(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),g}},e}function l(t,e,n,i,o,r,a){try{var s=t[r](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,o)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return(e=m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,m(i.key),i)}}function m(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}var w=function(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.store=e,this.keyDownTimeout=null,this.webrtcWin=null,this.maxNumberFileUpload=5,this.maxSizeFileUpload=52428800,this.regSurvey=/\[option\](.*?)(<br\/>|$)/gm,this.regSurveyQuestion=/^([\s\S]*?)\[option\]/,this.regOption=/\[option\]/g}),[{key:"processHistoryMessages",value:function(t){for(var e=this,n=[],i={},r=null,s=!1,c=!1,u=!1,l=function(){var l,h,p,m,w=!1,g=null,v=t[d],y=a.Helper.generateUUID(),b=new Date(v.co).getTime(),k={};if("WEBRTC_CALL"===v.m&&v.md&&v.md.webrtc&&(w=!0,g=v.md.clid),"n"===v.t&&"WEBRTC_CALL"!==v.m)return"AGENT_JOIN_CONVERSATION"===v.m&&v.md&&(i[v.md.rsc]=v.md),0;if(v.md&&v.md.ao)return 0;if(m=v.n,l=v.uid,"a"===v.ut){var T=i[v.md.rsc];T&&(l=T.pid,h=T.pi?"".concat("https://s3.amazonaws.com/tawk-to-pi","/").concat(T.pi):"".concat("https://embed.tawk.to/_s/v4/assets","/images/default-profile.svg"))}else"s"===v.ut&&(l=a.Helper.generateUUID(),h=v.md&&v.md.pi?"".concat("https://tawk.link","/").concat(v.md.pi):"".concat("https://embed.tawk.to/_s/v4/assets","/images/default-profile.svg"));v.attchs&&Array.isArray(v.attchs)&&v.attchs.forEach((function(t){var n=t.type;if("suggested-messages"===n){u=!0;var i="",o=p.match(e.regSurveyQuestion);o&&o.length&&(i=o.replace(e.regOption,"")),r={question:i,options:t.content.options}}else"file"===n?k=e.processFile(v):"ticket-form"===n?s=!0:"lead-capture-form"===n&&(c=!0)})),p=e.parseText(o.a.rawEncode(o.a.rawDecode(v.m))),!u&&p&&(r=e.parseSurvey(v.m)),n.push(f(f({},k),{},{timeStamp:b,message:p||"",name:m,type:v.t,time:v.co,data:v.md,isPending:!1,senderType:v.ut,ownerId:l,profileImage:h,cver:v.cver,messageId:y,isCallView:w,callId:g,callData:null,surveyObj:r,rawMessage:v,hasInlineTicketForm:s,hasInlineLeadCaptureForm:c}))},d=0;d<t.length;d++)l();return n}},{key:"parseChatMessage",value:function(e,n){var i,r,s,c,u,l=this,d=!1,h=null,p={},m=null,w=null,g=null,v=!1,y=!1,b=!1,k=a.Helper.generateUUID(),T=new Date(e.co).getTime(),S=!!n&&!!this.store.getters["chat/chatTransferData"];if(e.n=o.a.rawDecode(e.n),"n"===e.t&&("AGENT_JOIN_CONVERSATION"===e.m||"AGENT_LEFT_CONVERSATION"===e.m))return this.updateAgentPresence(e,n),this.store.dispatch("chat/updateChatMessage",{rawMessage:e,type:"n"}),S&&"AGENT_JOIN_CONVERSATION"===e.m&&this.store.commit("chat/setChatTransferData",null),null;if("n"===e.t&&"CHAT_TRANSFER"===e.m)return this.store.dispatch("chat/updateChatMessage",{rawMessage:e,type:"n"}),S="active"===(null===(u=e.md)||void 0===u||null===(u=u.transfer)||void 0===u?void 0:u.status),null;if("n"===e.t&&"v"===e.ut){if("VISITOR_RATING"!==e.m)return;"VISITOR_RATING"===e.m&&(n&&this.changeRating(e.md.rt,!0),e.md.rt<0?(e.m="thumbs-down",e.t="c"):e.md.rt>0?(e.m="thumbs-up",e.t="c"):e.m=t.Tawk_Window.app.$i18n("chat","remove_rate"))}if("v"===e.ut)i=this.store.getters["visitor/displayName"],r=e.uid;else if(i=e.n,"a"===e.ut){var _=this.store.getters["chat/agents"];_[e.md.rsc]&&(r=_[e.md.rsc].profileId);var I=this.store.getters["chat/agentProfile"](e.md.rsc);s=I?I.profileImage:null}else"s"===e.ut&&(s=e.md&&e.md.pi?"".concat("https://tawk.link","/").concat(e.md.pi):"".concat("https://embed.tawk.to/_s/v4/assets","/images/default-profile.svg"));if(e.attchs&&Array.isArray(e.attchs)&&e.attchs.forEach((function(t){var n=t.type;if("suggested-messages"===n){b=!0;var i="";e.m&&e.m.length&&(i=e.m),m={question:l.parseText(i),options:t.content.options}}else"file"===n?p=l.processFile(e):"ticket-form"===n?(v=!0,w=t.content.ref):"lead-capture-form"===n&&(y=!0,g=t.content.ref)})),"WEBRTC_CALL"===e.m&&e.md&&e.md.webrtc)d=!0,h=e.md.clid;else{if("c"===e.t)if("v"===e.ut)this.store.commit("chat/setVisitorHasMessaged",!0);else if("a"===e.ut){if(this.store.commit("chat/setAgentHasMessaged",!0),n){var W={message:e.m,attachments:e.attchs?e.attchs:[]};0===e.m.length&&delete W.message,t.Tawk_Window.jsApi.triggerApiHandlers("onChatMessageAgent",W)}}else if("s"===e.ut&&n){var P={message:e.m,attachments:e.attchs?e.attchs:[]};0===e.m.length&&delete P.message,t.Tawk_Window.jsApi.triggerApiHandlers("onChatMessageSystem",P)}c||(c=this.parseText(e.m),b||e.attchs||(m=this.parseSurvey(e.m)))}return T>this.store.getters["session/lastMessageTimestamp"]&&("v"===e.ut?this.store.commit("session/setLastMessageTimestamp",T):(this.store.dispatch("chat/updateUnseenMessages",k),n&&t.Tawk_Window.jsApi.triggerApiHandlers("onUnreadCountChanged",this.store.getters["chat/unreadMessageCount"]))),p=f(f({},p),{},{timeStamp:T,message:c,name:i,type:e.t,time:e.co,data:e.md,isPending:!T,senderType:e.ut,ownerId:r,profileImage:s,cver:e.cver,messageId:k,isCallView:d,callId:h,callData:null,surveyObj:m,rawMessage:e,ticketFormRef:w,hasInlineTicketForm:v,leadFormRef:g,hasInlineLeadCaptureForm:y})}},{key:"processFile",value:function(t){if(t.attchs&&Array.isArray(t.attchs)){var e={images:[],videos:[],audios:[],files:[]};return t.attchs.forEach((function(t){if("file"===t.type){var n=t.content.file;-1!==["image/jpeg","image/png","image/gif"].indexOf(n.mimeType)?e.images.push({source:n.url,name:o.a.rawEncode(n.name)}):-1!==["video/mp4","video/ogg","video/webm"].indexOf(n.mimeType)?e.videos.push({source:"selfhosted",url:n.url,name:o.a.rawEncode(n.name),size:i.a.formatFileSize(n.size),options:{controls:"",mute:!0,loop:!1,startTime:0}}):-1!==["audio/mp3","audio/ogg","audio/mpeg","audio/wav"].indexOf(n.mimeType)?e.audios.push({source:n.url,type:n.mimeType,name:o.a.rawEncode(n.name),size:i.a.formatFileSize(n.size)}):e.files.push({source:n.url,name:o.a.rawEncode(n.name),size:i.a.formatFileSize(n.size)})}})),{attchs:e}}}},{key:"parseText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){for(var n=t.split("\n"),i=0;i<n.length;i++)e||(n[i]=this.createUrl(n[i].split(" ")," "));return t=n.join("\n")}}},{key:"createUrl",value:function(t,e){for(var n=this,o=0;o<t.length;o++)t[o].match(i.a.regEmailMatch)?t[o]=t[o].replace(i.a.regEmailMatch,(function(t){return n.parseEmail(t)})):t[o].match(i.a.regTelMatch)?t[o]=t[o].replace(i.a.regTelMatch,(function(t){return n.parsePhoneNumber(t)})):(t[o]=t[o].replace(i.a.regMatchUrl,(function(t){return n.parseUrl(t)})),t[o]=t[o].replace(i.a.regMatchIp,(function(t){return n.parseUrl(t)})));return t.join(e)}},{key:"parseUrl",value:function(t){var e,n="";if(void 0!==window.emojione&&window.emojione.unifyUnicode(t)!==t)return t;var r=o.a.hasPunctuation(t);if(r&&r.length){var a=r[0].replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=new RegExp(a+"$","g");t=t.replace(s,"")}var c="".concat(r&&r.length?r[0]:""," ");return t.match(i.a.regEmailMatch)&&(n="mailto:"),"mailto:"===n?(-1!==(e=t.match(i.a.regEmailMatch)[0]).indexOf("mailto")&&(n=""),t.replace(i.a.regEmailMatch,"[".concat(e,"](").concat(n+e,")").concat(c))):(0!==t.toLowerCase().indexOf("http")&&0!==t.toLowerCase().indexOf("ftp")&&(n="http://"),"_parent"==(this.parseUrlHostName(document.location.href)===this.parseUrlHostName(t)?"_parent":"_blank")?"_[".concat(t,"](").concat(n+t,")").concat(c):"[".concat(t,"](").concat(n+t,")").concat(c))}},{key:"parseUrlHostName",value:function(t){var e=t.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);if(null!=e&&e.length>2&&"string"==typeof e[2]&&e[2].length>0)return e[2]}},{key:"parseEmail",value:function(t){var e="";return void 0!==window.emojione&&window.emojione.unifyUnicode(t)!==t?t:(-1===t.indexOf("mailto")&&(e="mailto:"),"[".concat(t,"](").concat(e+t,")"))}},{key:"parseSurvey",value:function(t){t=o.a.rawEncode(o.a.rawDecode(t));var e=[],n=(t=this.parseText(t,!0)).match(this.regSurvey);if(!n)return null;for(var r="",a=t.match(this.regSurveyQuestion),s=0,c=n.length;s<c;s++){var u=n[s].replace(this.regOption,"");u=u.replace(i.a.regBr,""),u=o.a.trim(u),e.push({text:u})}return a&&a.length&&(r=(r=this.createUrl(a[0].split(/\s/)," ")).replace(this.regOption,"")),{options:e,question:r}}},{key:"updateAgentPresence",value:function(t,e){return("AGENT_JOIN_CONVERSATION"===t.m||"AGENT_LEFT_CONVERSATION"===t.m)&&("AGENT_JOIN_CONVERSATION"===t.m?this.addAgentToList(t,e):this.removeAgentFromList(t,e))}},{key:"addAgentToList",value:function(e,n){var i=e.md||{},r=i.rsc,a=this.store.getters["chat/agents"][e],s={profileImage:i.pi?"".concat("https://s3.amazonaws.com/tawk-to-pi","/").concat(i.pi):"".concat("https://embed.tawk.to/_s/v4/assets","/images/default-profile.svg"),profileTitle:o.a.rawDecode(i.pst)||"",profileId:i.pid,displayName:e.n,count:1,isBot:!!i.bot&&i.bot};if(a){if(!(a.seq.time<i.seq.time||a.seq.time===i.seq.time&&a.seq.inc<i.seq.inc))return;if(a.profileId===i.pid)return!1}n&&t.Tawk_Window.jsApi.triggerApiHandlers("onAgentJoinChat",{name:s.displayName,position:s.profileTitle,image:s.profileImage,id:e.uid}),this.store.dispatch("chat/agentJoined",{resourceId:r,agentData:i,profileData:s})}},{key:"removeAgentFromList",value:function(e,n){var i=e.md||{},o=i.rsc,r=this.store.getters["chat/agents"][o];if(!(!r||r.seq.time>i.seq.time||r.seq.time===i.seq.time&&r.seq.inc>i.seq.inc)){if(n){var a=this.store.getters["chat/agentProfile"](o);a&&t.Tawk_Window.jsApi.triggerApiHandlers("onAgentLeaveChat",{name:a.displayName,position:a.profileTitle,image:a.profileImage,id:e.uid})}this.store.dispatch("chat/agentLeft",{resourceId:o,agentData:i})}}},{key:"sendMessagePreview",value:function(e){var n,r=this,a=i.a.getTargetElement(e);if(13===e.keyCode&&!e.shiftKey&&!this.store.getters["browserData/mobileBrowserName"])return n=o.a.trim(a.value),a.value="",this.sendMessage(n);!this.keyDownTimeout&&this.store.getters["widget/showVisitorTyping"]&&(this.keyDownTimeout=setTimeout((function(){n=o.a.trim(a.value),void 0!==window.emojione&&(n=window.emojione.toShort(n)),t.Tawk_Window.app.$socket.publish("notifyMessagePreview",n),clearTimeout(r.keyDownTimeout),r.keyDownTimeout=null}),1e3))}},{key:"sendMessage",value:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){l(r,i,o,a,s,"next",t)}function s(t){l(r,i,o,a,s,"throw",t)}a(void 0)}))}}(u().mark((function t(e){var n,i,r,a,s,c,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.message,i=void 0===n?"":n,r=e.attachments,a=void 0===r?[]:r,s=e.callback,i=o.a.rawDecode(o.a.trim(i)),s=s||function(){},c=!1,l=[],1!==a.length||"lead-capture-response"!==a[0].type){t.next=10;break}l=a,c=!0,t.next=14;break;case 10:if(!(a.length>0)){t.next=14;break}return t.next=13,this.uploadFiles(a);case 13:l=t.sent;case 14:clearTimeout(this.keyDownTimeout),this.keyDownTimeout=0,i.length>0&&void 0!==window.emojione&&(i=i.replace(/©/gm,"&copy;").replace(/®/gm,"&reg;").replace(/™/gm,"&trade;"),i=(i=window.emojione.toShort(i)).replace(/&copy;/gm,"©").replace(/'&reg;/gm,"®").replace(/&trade;/gm,"™")),this.sendMessageToServer({message:i,attachments:l,callback:s,isLeadCaptureForm:c});case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"sendMessageToServer",value:function(e){var n=this,i=e.message,r=e.attachments,a=void 0===r?[]:r,s=e.callback,c=void 0===s?function(){}:s,u=e.isLeadCaptureForm,l=void 0!==u&&u;c=c||function(){};var d=this.parseChatMessage({attchs:a,ut:"v",t:"c",m:o.a.rawEncode(i),co:null,uid:this.store.getters["visitor/visitorId"]});l||this.store.commit("chat/setOutgoingMessage",d);var f={message:i,attachments:a};0===i.length&&delete f.message,t.Tawk_Window.app.$socket.publish("sendChatMessage",f,(function(e,i){e?(d.sendFailed=!0,d.isPending=!1):(l&&n.store.commit("chat/setOutgoingMessage",d),d.cver=i.data.cver,d.timeStamp=new Date(i.data.co).getTime(),d.time=i.data.co,d.isPending=!1,d.rawMessage.co=i.data.co,d.sendFailed=!1,t.Tawk_Window.jsApi.triggerApiHandlers("onChatMessageVisitor",f),n.store.dispatch("session/addWaitTime"),n.store.dispatch("chat/outgoingChatMessage",d)),c(e)}))}},{key:"changeRating",value:function(e,n){var i,o="c";this.store.getters["chat/rating"]===e&&(e=0),this.store.commit("chat/setRating",e),n||(t.Tawk_Window.app.$socket.publish("setRating",e),t.Tawk_Window.jsApi.triggerApiHandlers("onChatSatisfaction",e)),e<0?i="thumbs-down":e>0?i="thumbs-up":(i=t.Tawk_Window.app.$i18n("chat","remove_rate"),o="n");var r=this.parseChatMessage({ut:"v",t:o,m:i,co:new Date,uid:this.store.getters["visitor/visitorId"],md:{rt:e}});n||(this.store.commit("chat/setOutgoingMessage",r),this.store.dispatch("chat/updateRatingMessage",r))}},{key:"uploadFiles",value:function(e){for(var n=this,i=[],o=[],c=[],u=function(){var t=e[l],s={uuid:a.Helper.generateUUID(),handle:null,fileName:t.file.name,percentage:0,hasError:!1,fileData:t};return t.file.size>n.maxSizeFileUpload?(o.push(t.file.name),0):l>=n.maxNumberFileUpload?(c.push(t),0):(n.store.commit("chat/addFileUpload",s),void i.push(new Promise((function(e,i){r.a.getUploadHandler((function(i){s.handle=i,r.a.uploadFile(i,n.store.getters["session/sessionKey"],t.file,(function(t){e(t),n.store.commit("chat/removeFileUpload",s.uuid)}))}),i)}))))},l=0;l<e.length;l++)u();return o.length&&t.Tawk_Window.eventBus.$emit("tooBigFileList",o),Object(s.a)(i).then((function(e){for(var i=[],o=0;o<e.length;o++){var r=e[o];if("fulfilled"===r.status&&r.value){var a={type:"file",content:{file:{url:r.value.url,name:r.value.filename,mimeType:r.value.mimeType,size:r.value.size,extension:r.value.extension}}};i.push(a),t.Tawk_Window.jsApi.triggerApiHandlers("onFileUpload",r.value.url)}else n.store.getters["chat/uploadFiles"].forEach((function(t){t.hasError||(t.hasError=!0)}))}return i}))}},{key:"callStatusUpdate",value:function(e){var n=this,i=this.store.getters["chat/callData"](e.clid);i||(i={callId:e.clid,status:e.stts,version:e.ver,isMissed:e.mssd,isRejected:e.rjctd,isRinging:"ringing"===e.stts,isDone:"completed"===e.stts,isVideo:!!e.f&&e.f.vid,isScreenshare:!!e.f&&e.f.scrn,hasError:!1},this.store.dispatch("chat/updateCallData",i)),t.Tawk_Window.app.$socket.publish("getCallStatus",{callId:e.clid},(function(e,o){if(e||!o.data.call.f||i.version>o.data.call.ver)return i.hasError=!0,void n.store.dispatch("chat/updateCallData",i);var r,a=o.data.call;("a"!==a.cllr.t||(r=n.store.getters["chat/agentProfile"](a.cllr.urid)))&&((i={callId:a.clid,status:a.stts,version:a.ver,isMissed:a.mssd,isRejected:a.rjctd,isRinging:"ringing"===a.stts,isDone:"completed"===a.stts,isVideo:a.f.vid,isScreenshare:a.f.scrn,hasError:!1,caller:r||a.cllr,startedAt:a.so,endedAt:a.eo}).isRinging&&i.caller&&"a"===a.cllr.t?n.store.commit("chat/setIncomingCall",i):i.isDone&&n.store.getters["chat/incomingCall"]&&n.store.getters["chat/incomingCall"].callId==i.callId&&n.store.commit("chat/setIncomingCall",null),i.isDone?n.store.dispatch("chat/updateOngoingCall",!1):n.store.dispatch("chat/updateOngoingCall",!0),n.store.dispatch("chat/updateCallData",i),t.Tawk_Window.eventBus.$emit("callDataUpdated",i))}))}},{key:"chatTransferUpdate",value:function(t,e){this.store.dispatch("chat/updateChatTransferData",{transfer:t,transferVersion:e})}},{key:"acceptCall",value:function(){var e=this;this.store.getters["browserData/isWebRTCAvailable"]&&(this.webrtcWin=window.open("",""),t.Tawk_Window.app.$socket.publish("getWebRTCToken",{},(function(t,n){e.store.commit("chat/setIncomingCall",null),t&&e.webrtcWin.close(),e.webrtcWin.location.href="".concat("https://video.tawk.to","/v2/call?token=").concat(n.data.token)})))}},{key:"declineCall",value:function(e){var n=this,i={callId:e};t.Tawk_Window.app.$socket.publish("declineCall",i,(function(){n.store.commit("chat/setIncomingCall",null)}))}},{key:"initiateCall",value:function(e,n){var i=this;this.webrtcWin=window.open("",""),t.Tawk_Window.app.$socket.publish("getWebRTCToken",{video:e,screen:n},(function(t,e){t&&i.webrtcWin.close(),i.webrtcWin.location.href="".concat("https://video.tawk.to","/v2/call?token=").concat(e.data.token)}))}},{key:"clearUnseenNotification",value:function(){this.store.dispatch("chat/clearUnseenMessages"),t.Tawk_Window.jsApi.triggerApiHandlers("onUnreadCountChanged",this.store.getters["chat/unreadMessageCount"])}},{key:"updateFileProgress",value:function(t,e,n){for(var i,o=this.store.getters["chat/uploadFiles"],r=0;r<o.length;r++)if(o[r].handle===t.handle){e?o.splice(r,1):i=o[r];break}i&&(n?i.hasError=!0:i.percentage=t.progress)}},{key:"sendApiEvent",value:function(e,n,i){var o;"function"==typeof n&&(i=n,n=null),i=i||function(){},(o=t.Tawk_Window.jsApi.secureWrapper({})).name=e,o.data=n,t.Tawk_Window.app.$socket.publish("addEvent",o,i)}},{key:"sendApiAttributes",value:function(e,n){var i=this;n=n||function(){};var o=!1;if(Object.keys(e).length>50)return o=!0,void n("[JSAPI/setAttributes]: 50 custom attributes are only allowed.");Object.keys(e).forEach((function(t){if("hash"!==t){if(!function(t){return/^[a-zA-Z0-9-]{1,50}$/.test(t)}(t))return o=!0,void n("[JSAPI/setAttributes]: Invalid key: ".concat(t));var i=e[t];return function(t){return"string"==typeof t&&t.length<=255||"number"==typeof t||"boolean"==typeof t||null===t}(i)?void 0:(o=!0,void n("[JSAPI/setAttributes]: Invalid value for key ".concat(t,": ").concat(i,"}")))}})),o||(e=t.Tawk_Window.jsApi.secureWrapper(e),t.Tawk_Window.app.$socket.publish("setAttributes",e,(function(t){t||(e.name||e.email)&&i.store.dispatch("visitor/updateVisitorInformation",{n:e.name||void 0,e:e.email||void 0}),n(t)})))}},{key:"addTags",value:function(e,n){var i;n=n||function(){},(i=t.Tawk_Window.jsApi.secureWrapper({})).tags=e,t.Tawk_Window.app.$socket.publish("addTags",i,n)}},{key:"removeTags",value:function(e,n){var i;n=n||function(){},(i=t.Tawk_Window.jsApi.secureWrapper({})).tags=e,t.Tawk_Window.app.$socket.publish("removeTags",i,n)}},{key:"parsePhoneNumber",value:function(t){var e="";return-1===t.indexOf("tel")&&(e="tel:"),'<a class="tawk-link" href="'+(e+t)+'" title="'+(e+t)+'">'+t+"</a> "}}])}).call(this,n("c8ba"))},"0ad2":function(t,e,n){"use strict";(function(t){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}function r(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}n.d(e,"a",(function(){return a}));var a=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.store=e,this.incomingMessage=null,this.audioContext=null,this.isReadyForInit=!1,this.play=null,this.soundEl=null,this.soundFile="".concat("https://embed.tawk.to/_s/v4/assets","/audio/chat_sound.mp3")}),[{key:"init",value:function(){var t,e=this,n=this.store.getters["browserData/html5audio"];n&&n.supported&&(this.audioContext||/Firefox/.test(navigator.userAgent)||"undefined"==typeof AudioBuffer||void 0===window.AudioContext&&void 0===window.webkitAudioContext||(window.AudioContext=window.AudioContext||window.webkitAudioContext,this.audioContext=new window.AudioContext),this.audioContext?this.incomingMessage=this.audioContextPlayer():this.incomingMessage=this.htmlAudioPlayer(),this.audioContext&&(t=function(){e.isReadyForInit&&!e.touchstartInited&&(e.incomingMessage.volume=0,e.incomingMessage.play(),e.incomingMessage.source.stop(0),e.incomingMessage.volume=1,window&&"function"==typeof window.removeEventListener&&window.removeEventListener("touchstart",t,{passive:!0}),e.touchstartInited=!0)},this.store.getters["browserData/mobileBrowserName"]&&"ontouchstart"in window&&window.addEventListener("touchstart",t,{passive:!0})))}},{key:"playSound",value:function(){t.Tawk_Window.jsApi.local_API.disableSound||this.store.getters["widget/isSoundEnabled"]&&this.store.getters["widget/localSoundEnabled"]&&this.incomingMessage&&this.incomingMessage.play()}},{key:"audioContextPlayer",value:function(){var t=this,e={sourcePath:t.soundFile,buffer:null,source:null,volume:1,play:function(){if(this.buffer){var e=t.audioContext.createGain();e.gain.value=this.volume,this.source=t.audioContext.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(e),e.connect(t.audioContext.destination),this.source.start(0)}},loadBuffer:function(){var e=this,n=new XMLHttpRequest;n.open("GET",this.sourcePath,!0),n.responseType="arraybuffer",n.onload=function(){t.audioContext.decodeAudioData(n.response,(function(n){n&&(e.buffer=n,t.isReadyForInit||(t.isReadyForInit=!0))}),(function(t){throw new Error(t)}))},n.onerror=function(){throw new Error("BufferLoader: XHR error for "+this.sourcePath)},n.send()}};return e.loadBuffer(),e}},{key:"htmlAudioPlayer",value:function(){var t={};if("symbian"!==this.store.getters["browserData/mobileBrowserName"])return"safari"===this.store.getters["browserData/mobileBrowserName"]?(t.sound=document.createElement("audio"),t.sound.src=this.soundFile,t.sound.style.cssText="position: absolute; position: absolute; width: 0px; height: 0px; top: -10000px; left: -10000px;",document.body.appendChild(t.sound)):t.sound=new Audio(this.soundFile),t.sound.addEventListener("timeupdate",(function(){t.sound.currentTime>=.2&&t.sound.pause()}),!1),t.sound.load(),t.play=function(){try{this.sound.currentTime=0,this.sound.autoplay=!0,this.sound.load(),this.sound.play()}catch(t){}},t;t.play=function(){}}}])}).call(this,n("c8ba"))},"0dc3":function(t,e,n){"use strict";n.r(e);e.default={namespaced:!0,state:{isIe:!1,html5audio:null,mobileBrowserName:null,searchEngine:null,vendor:null,version:null,isWebRTCAvailable:!0,os:null},getters:{isIE:function(t){return t.isIE},html5audio:function(t){return t.html5audio},mobileBrowserName:function(t){return t.mobileBrowserName},searchEngine:function(t){return t.searchEngine},vendor:function(t){return t.vendor},version:function(t){return t.version},isWebRTCAvailable:function(t){return t.isWebRTCAvailable},os:function(t){return t.os}},actions:{updateInitialData:function(t,e){(0,t.commit)("setInitialData",e)},resetState:function(t){(0,t.commit)("unsetData")}},mutations:{setInitialData:function(t,e){t.vendor=e.vendor,t.version=e.version,t.isIE=e.isIE,t.mobileBrowserName=e.mobileBrowserName,t.html5audio=e.html5audio,t.searchEngine=e.searchEngine,t.isWebRTCAvailable=e.isWebRTCAvailable,t.os=e.os},setMobileBrowserName:function(t,e){t.mobileBrowserName=e},unsetData:function(t){for(var e={isIe:!1,html5audio:null,mobileBrowserName:null,searchEngine:null,vendor:null,version:null,isWebRTCAvailable:!0,os:null},n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];t[o]=e[o]}}}}},"24ca":function(t,e,n){"use strict";var i=new(n("2b0e").a);e.a=i},"27a6":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t){var e=t.map((function(t){return t.then((function(t){return{status:"fulfilled",value:t}})).catch((function(t){return{status:"rejected",reason:t}}))}));return Promise.all(e)}},"27c6":function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}function r(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}n.d(e,"a",(function(){return a}));var a=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.store=e,this.setupTimeout=null,this.agentCountSubscription=null,this.originalPageStatus=null,this.utcOffset=0,this.isSetup=!1,this.agentCountListener=null,this.isCleanedUp=!1}),[{key:"setup",value:function(){this.clear(),this.isCleanedUp=!1,null===this.originalPageStatus&&(this.originalPageStatus=this.store.getters["session/pageStatus"]),this.store.getters["schedule/isEnabled"]?(this.utcOffset=-1*((new Date).getTime()-this.store.getters["schedule/timezone"].utc),this.isSetup=!0,this.calculate()):this.store.dispatch("session/setPageStatus",{status:this.originalPageStatus})}},{key:"clear",value:function(){clearTimeout(this.setupTimeout),this.setupTimeout=null}},{key:"cleanUp",value:function(){this.clear(),this.originalPageStatus=null,this.isSetup=!1,this.unwatchAgentCount(),this.isCleanedUp=!0}},{key:"calculate",value:function(){var t=this;if(this.clear(),this.isCleanedUp)return this.setup();if(this.isSetup&&this.store.getters["schedule/isEnabled"]){var e=this.store.getters["schedule/slots"];if(0!==e.length){for(var n,i,o,r=new Date,a=-6e4*r.getTimezoneOffset(),s=this.store.getters["schedule/timezone"].tzo-a,c=new Date(r.getTime()+this.utcOffset+s),u=c.getDay(),l=60*c.getHours()+c.getMinutes(),d=60*l+c.getSeconds(),f=0;f<e.length;f++){var h=e[f];if(h.day===u){if(l>=h.start&&l<h.end){n=h;break}if(l<h.start){i=h;break}}}void 0!==n?(this.goOnline(),o=60*n.end-d):(this.goOffline(),o=void 0!==i?60*i.start-d:86400-d+1),void 0!==o&&(this.setupTimeout=setTimeout((function(){t.calculate()}),1e3*o))}else this.goOffline()}else this.store.dispatch("session/setPageStatus",{status:this.originalPageStatus})}},{key:"goOnline",value:function(){this.unwatchAgentCount(),this.store.getters["widget/agentDrivenStatus"]||this.store.dispatch("session/setPageStatus",{status:"online"}),this.originalPageStatus&&(this.store.dispatch("session/setPageStatus",{status:this.originalPageStatus}),this.initial=!1)}},{key:"goOffline",value:function(){var t=this;0===this.store.getters["chat/agentsCount"]&&this.store.dispatch("session/setPageStatus",{status:"offline"}),this.agentCountListener=this.store.watch((function(t){return t.chat.agentsCount}),(function(e){0===e&&t.store.dispatch("session/setPageStatus",{status:"offline"})}))}},{key:"unwatchAgentCount",value:function(){"function"==typeof this.agentCountListener&&(this.agentCountListener(),this.agentCountListener=null)}}])},"284b":function(t,e,n){"use strict";n.r(e);e.default={namespaced:!0,state:{isOpen:!1},getters:{isOpen:function(t){return t.isOpen}},actions:{showOverlay:function(t,e){var n=t.commit;t.state.isOpen!==e&&n("setOverlayOpen",e)},resetState:function(t){(0,t.commit)("unsetData")}},mutations:{setOverlayOpen:function(t,e){t.isOpen=e},unsetData:function(t){for(var e={isOpen:!1},n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];t[o]=e[o]}}}}},"32d9":function(t,e,n){"use strict";n.r(e),function(t){var i=n("65b3"),o=n("745f"),r=n("4360");e.default={namespaced:!0,state:function(){return{branding:{},components:{},consentData:{},desktopVisibility:{},id:null,isWindowed:!1,generalVisibility:{},maxDesktop:{},minDesktop:{},minMobile:{},mobileVisibility:{},onClick:"max",show:null,states:{},theme:{},type:"inline",version:void 0,bubble:{},isRTL:!1,yOffset:0,xOffsetMobile:0,yOffsetMobile:0,xOffset:0,language:"en",notification:{},features:{},webrtcOptions:{},isEmbedded:!1,localSoundEnabled:!0,zoomRatio:1,toolbarOptions:{showAgentAvatars:!1},isMobileLandscape:!1,isFocus:!0,isPopout:!1,isIframe:!1,agentDrivenStatus:void 0}},getters:{branding:function(t){return t.branding},consentData:function(t){return t.consentData},desktopVisibility:function(t){return t.desktopVisibility},generalVisibility:function(t){return t.generalVisibility},headerBgColor:function(t){return t.theme.header.background},headerTxtColor:function(t){return t.theme.header.text},id:function(t){return t.id},isRight:function(e,n,i){var o,r=["br","cr","tr"],a=null===(o=t.Tawk_Window.jsApi)||void 0===o||null===(o=o.local_API)||void 0===o||null===(o=o.customStyle)||void 0===o?void 0:o.visibility;return i.browserData.mobileBrowserName?a&&a.mobile&&a.mobile.position?-1!==r.indexOf(a.mobile.position):-1!==r.indexOf(e.mobileVisibility.position):a&&a.desktop&&a.desktop.position?-1!==r.indexOf(a.desktop.position):-1!==r.indexOf(e.desktopVisibility.position)},isBottom:function(e,n,i){var o,r=["br","bl"],a=null===(o=t.Tawk_Window.jsApi)||void 0===o||null===(o=o.local_API)||void 0===o||null===(o=o.customStyle)||void 0===o?void 0:o.visibility;return i.browserData.mobileBrowserName?a&&a.mobile&&a.mobile.position?-1!==r.indexOf(a.mobile.position):-1!==r.indexOf(e.mobileVisibility.position):a&&a.desktop&&a.desktop.position?-1!==r.indexOf(a.desktop.position):-1!==r.indexOf(e.desktopVisibility.position)},isCenter:function(e,n,i){var o,r=["cr","cl"],a=null===(o=t.Tawk_Window.jsApi)||void 0===o||null===(o=o.local_API)||void 0===o||null===(o=o.customStyle)||void 0===o?void 0:o.visibility;return i.browserData.mobileBrowserName?a&&a.mobile&&a.mobile.position?-1!==r.indexOf(a.mobile.position):-1!==r.indexOf(e.mobileVisibility.position):a&&a.desktop&&a.desktop.position?-1!==r.indexOf(a.desktop.position):-1!==r.indexOf(e.desktopVisibility.position)},isWindowed:function(t){return t.isWindowed},isRoundWidget:function(t,e,n){return n.browserData.mobileBrowserName?"round"===t.minMobile.type:"round"===t.minDesktop.type},maxDesktop:function(t){return t.maxDesktop},minDesktop:function(t){return t.minDesktop},mobileVisibility:function(t){return t.mobileVisibility},states:function(t){return t.states},version:function(t){return t.version},yOffset:function(t){return t.yOffset},xOffset:function(t){return t.xOffset},yOffsetMobile:function(t){return t.yOffsetMobile},xOffsetMobile:function(t){return t.xOffsetMobile},isRTL:function(t){return t.isRTL},bubble:function(t){return t.bubble},showMessagePreview:function(t,e,n){return n.browserData.mobileBrowserName?t.notification.mobile.preview:t.notification.desktop.preview},features:function(t){return t.features},showVisitorTyping:function(t){return t.notification.all.visitorTyping},webrtcOptions:function(t){return t.webrtcOptions},language:function(t){return t.language},visitorBgColor:function(t){return t.theme.visitor.messageBackground},visitorTxtColor:function(t){return t.theme.visitor.messageText},agentBgColor:function(t){return t.theme.agent.messageBackground},agentTxtColor:function(t){return t.theme.agent.messageText},showEstimatedWaitTime:function(t){return t.notification&&t.notification.all&&t.notification.all.estimatedWaitTime},showAgentTyping:function(t){return t.notification&&t.notification.all&&t.notification.all.agentTyping},isPrechatEnabled:function(t){return t.states.prechat&&t.states.prechat.handlers&&t.states.prechat.handlers.form},isEmbedded:function(t){return t.isEmbedded},isSoundEnabled:function(t){return t.notification&&t.notification.all&&t.notification.all.sound&&t.localSoundEnabled},localSoundEnabled:function(t){return t.localSoundEnabled},show:function(t){return t.show},onClick:function(t){return t.onClick},isVisible:function(t,e,n){return null!==e.show?t.show:!("offline"===n.session.pageStatus&&!e.generalVisibility.showWhenOffline)&&(n.browserData.mobileBrowserName?t.mobileVisibility.show:t.desktopVisibility.show)},showTitleNotification:function(t){return!(!t.notification||!t.notification.all)&&t.notification.all.tab},hasLiveChat:function(t){return t.components.liveChat},minMobile:function(t){return t.minMobile},zoomRatio:function(t){return t.zoomRatio},components:function(t){return t.components},emailTranscriptEnabled:function(t){return t.features.transcript},emojiEnabled:function(t){return t.features&&t.features.emoji},toolbarOptions:function(t){return t.toolbarOptions},isMobileLandscape:function(t){return t.isMobileLandscape},isFocus:function(t){return t.isFocus},isPopout:function(t){return t.isPopout},isIframe:function(t){return t.isIframe},agentDrivenStatus:function(t){return t.agentDrivenStatus}},actions:{toggleVisibility:function(t){(0,t.commit)("setVisibility",!t.state.show)},updateBranding:function(t,e){(0,t.commit)("setBranding",e)},updateId:function(t,e){(0,t.commit)("setId",e)},toggleLocalSound:function(e,n){var i=e.state;void 0!==n?i.localSoundEnabled=n:(i.localSoundEnabled=!i.localSoundEnabled,t.Tawk_Window.app.$socket.publish("toggleSound",i.localSoundEnabled))},resetState:function(t){(0,t.commit)("unsetData")},toggleAgentAvatarToolbar:function(t,e){(0,t.commit)("setAgentAvatarToolbar",e)},updateMobileLandscape:function(t,e){(0,t.commit)("setMobileLandscape",e)},toggleFocus:function(t,e){(0,t.commit)("setFocus",e)},shutdown:function(e){var n=e.commit,o=e.dispatch,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};o("chat/resetState",null,{root:!0}),t.Tawk_Window.activityMonitor.cleanUp(),i.a.disconnectSocket(),delete window.$_Tawk.downloaded,n("setVisibility",!1),r()},start:function(e,n){var i=e.commit,a=e.rootGetters,s=e.dispatch,c=n.params,u=void 0===c?{}:c,l=n.callback,d=void 0===l?function(){}:l;s("socket/updateIsConnecting",!0,{root:!0});var f=a["property/id"],h=a["widget/id"],p=new o.a({propertyId:f,widgetId:h,callback:function(){u.showWidget&&i("setVisibility",!0),d()}});new Promise((function(e,n){t.Tawk_Window.register.init(e,n)})).then((function(e){t.Tawk_Window.widgetSettings.version=e.data.settingsVersion;var n=window.sessionStorage.getItem("tawk_sv");n&&n===e.data.settingsVersion?(p.extractRegistrationData(e),t.Tawk_Window.eventBus.$emit("updateWidgetSettings"),t.Tawk_Window.app.$socket.connect(),t.Tawk_Window.activityMonitor.initActivityReset(),r.a.dispatch("router/clearHistory")):(window.sessionStorage.setItem("tawk_sv",e.data.settingsVersion),t.Tawk_Window.widgetSettings.getSettings((function(){p.extractRegistrationData(e),t.Tawk_Window.eventBus.$emit("updateWidgetSettings"),t.Tawk_Window.app.$socket.connect(),t.Tawk_Window.activityMonitor.initActivityReset(),r.a.dispatch("router/clearHistory")}),(function(t){console.error(t)})))}))},switchWidget:function(e,n){var i=e.dispatch,a=e.commit,s=n.propertyId,c=n.widgetId,u=n.callback;return null===s?u("INVALID_PROPERTY_ID"):null===c?u("INVALID_WIDGET_ID"):(i("shutdown"),r.a.dispatch("reset"),void new o.a({propertyId:s,widgetId:c,callback:function(){a("setVisibility",!0),t.Tawk_Window.eventBus.$emit("switchWidget"),t.Tawk_Window.updateBootConfig({propertyId:s,widgetId:c}),u()}}).init())}},mutations:{setBranding:function(t,e){t.branding=e},setId:function(t,e){t.id=e},setData:function(t,e){if(t.version=e.version,t.onClick=e.behavior.click,t.components=e.components,t.theme=e.theme,t.states=e.states,t.bubble=e.bubble,t.agentDrivenStatus=e.agentDrivenStatus,t.maxDesktop={width:parseInt(e.maximized.desktop.width,10)||350,height:parseInt(e.maximized.desktop.height,10)||520},t.minDesktop=e.minimized.desktop,"rectangle"===e.minimized.desktop.type?(t.minDesktop.width=parseInt(e.minimized.desktop.width,10)||320,t.minDesktop.height=parseInt(e.minimized.desktop.height,10)||40,t.yOffset=0,t.xOffset=10):(t.minDesktop.width=60,t.minDesktop.height=60,t.yOffset=20,t.xOffset=20),t.minMobile=e.minimized.mobile,"rectangle"===e.minimized.mobile.type?(t.minMobile.width=110,t.minMobile.height=48,t.yOffsetMobile=15,t.xOffsetMobile=15):(t.minMobile.width=60,t.minMobile.height=60,t.yOffsetMobile=20,t.xOffsetMobile=20),t.generalVisibility=e.visibility.all,t.desktopVisibility=e.visibility.desktop,t.mobileVisibility=e.visibility.mobile,t.consentData=e.consent,t.language=e.language,t.isRTL=-1!==["ar","he","fa"].indexOf(e.language),t.notification=e.notification,t.features=e.features,t.bubble&&"image"===t.bubble.type&&t.bubble.config&&"gallery"===t.bubble.config.image.type){var n=e.visibility.desktop.position,i=e.minimized.desktop.type;("cr"!==n&&"rectangle"!==i||"cl"!==n&&"rectangle"!==i)&&(t.bubble.config.offsetX-=t.xOffset),"cr"!==t.desktopVisibility.position&&"cl"!==t.desktopVisibility.position&&(t.bubble.config.offsetY-=t.yOffset)}e.scheduler&&e.scheduler.config?this.dispatch("schedule/addSlots",e.scheduler):this.dispatch("schedule/addSlots")},setVisibility:function(e,n){e.show=n,e.show||t.Tawk_Window.jsApi.triggerApiHandlers("onChatHidden")},setWebrtcOptions:function(t,e){t.webrtcOptions=e},setIsWindowed:function(t,e){t.isWindowed=e},setIsEmbedded:function(t,e){t.isEmbedded=e},setZoomRatio:function(t,e){t.zoomRatio=e},unsetData:function(t){t.localSoundEnabled=!0},setAgentAvatarToolbar:function(t,e){t.toolbarOptions.showAgentAvatars=e},setMobileLandscape:function(t,e){t.isMobileLandscape=e},setFocus:function(t,e){t.isFocus=e},setIsPopout:function(t,e){t.isPopout=e},setIsIframe:function(t,e){t.isIframe=e}}}}.call(this,n("c8ba"))},"3b35":function(t,e,n){"use strict";n.r(e),function(t){var i=n("7f46");function o(){o=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,i){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),s=new x(i||[]);return r(a,"_invoke",{value:P(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",m="executing",w="completed",g={};function v(){}function y(){}function b(){}var k={};d(k,c,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(A([])));S&&S!==n&&i.call(S,c)&&(k=S);var _=b.prototype=v.prototype=Object.create(k);function I(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function W(t,e){function n(o,r,a,c){var u=h(t[o],t,r);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==s(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;r(this,"_invoke",{value:function(t,i){function r(){return new e((function(e,o){n(t,i,e,o)}))}return o=o?o.then(r,r):r()}})}function P(e,n,i){var o=p;return function(r,a){if(o===m)throw Error("Generator is already running");if(o===w){if("throw"===r)throw a;return{value:t,done:!0}}for(i.method=r,i.arg=a;;){var s=i.delegate;if(s){var c=C(s,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=w,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=m;var u=h(e,n,i);if("normal"===u.type){if(o=i.done?w:"suspendedYield",u.arg===g)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(o=w,i.method="throw",i.arg=u.arg)}}}function C(e,n){var i=n.method,o=e.iterator[i];if(o===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var r=h(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return r.next=r}}throw new TypeError(s(e)+" is not iterable")}return y.prototype=b,r(_,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:y,configurable:!0}),y.displayName=d(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,l,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},I(W.prototype),d(W.prototype,u,(function(){return this})),e.AsyncIterator=W,e.async=function(t,n,i,o,r){void 0===r&&(r=Promise);var a=new W(f(t,n,i,o),r);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(_),d(_,l,"Generator"),d(_,c,(function(){return this})),d(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=A,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(i,o){return s.type="throw",s.arg=e,n.next=i,o&&(n.method="next",n.arg=t),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:A(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),g}},e}function r(t,e,n,i,o,r,a){try{var s=t[r](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,c,"next",t)}function c(t){r(a,i,o,s,c,"throw",t)}s(void 0)}))}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.default={namespaced:!0,state:{chatBubbleClosed:!1,chatWindowState:"min",departments:[],isWindowFocused:!1,needConsent:!1,pageStatus:"",pageStatusVersion:0,prechatFormSubmitted:!1,previousSessionKey:null,restarted:!1,sessionKey:"",visitorSocketServer:"",waitTime:6e4,lastMessageTimestamp:0,token:null,tokenExpiry:0,isInactive:null,originalPageTitle:null,pageReferrer:null,waitTimeTimeout:null,waitTimeFirstTime:!1,waitTimeInitialized:!1,isReconnecting:!1,isNotValidEmail:null},getters:{chatBubbleClosed:function(t){return t.chatBubbleClosed},chatWindowState:function(t){return t.chatWindowState},isWindowFocused:function(t){return t.isWindowFocused},previousSessionKey:function(t){return t.previousSessionKey},pageStatus:function(t){return t.pageStatus},pageStatusVersion:function(t){return t.pageStatusVersion},sessionKey:function(t){return t.sessionKey},visitorSocketServer:function(t){return t.visitorSocketServer},prechatFormSubmitted:function(t){return t.prechatFormSubmitted},lastMessageTimestamp:function(t){return t.lastMessageTimestamp},token:function(t){return t.token},departments:function(t){return t.departments},waitTime:function(t){return t.waitTime},needConsent:function(t){return t.needConsent},isInactive:function(t){return t.isInactive},originalPageTitle:function(t){return t.originalPageTitle},isReconnecting:function(t){return t.isReconnecting},isNotValidEmail:function(t){return t.isNotValidEmail}},actions:{closeChatBubble:function(e,n){(0,e.commit)("setChatBubbleClosed",!0),n||t.Tawk_Window.app.$socket.publish("notifyChatBubbleClosed")},sendNavigationEvent:function(e){var n=e.state,i=e.rootGetters;t.Tawk_Window.webStorage.sessionStore.getItem("previousNav")!==window.location.href&&setTimeout((function(){var e={u:window.location.href,t:document.title};null!==i["session/originalPageTitle"]&&(e.t=i["session/originalPageTitle"]),document.referrer&&n.pageReferrer!==document.referrer&&(n.pageReferrer=document.referrer,e.r=document.referrer),t.Tawk_Window.app.$socket.publish("nav",e),t.Tawk_Window.webStorage.sessionStore.setItem("previousNav",e.u)}),500)},setPageStatus:function(e,n){var o=e.state,r=e.commit,a=e.dispatch,s=e.rootGetters,c=n.data,u=n.status;if(!s["schedule/isEnabled"]&&void 0!==s["widget/agentDrivenStatus"]&&!1===s["widget/agentDrivenStatus"])return a("triggerPageStatusAPI","online"),r("updatePageStatus","online"),void(c&&Object.keys(c).length&&c.dptst&&Array.isArray(c.dptst)&&r("setDepartment",c.dptst));if(c&&Object.keys(c).length){var l;if(!(l=c.ast)||!i.a.isString(l)||c.dptst&&!Array.isArray(c.dptst))return;(c.asver>o.pageStatusVersion||0===c.asver)&&(t.Tawk_Window.scheduler.originalPageStatus=c.ast,r("updatePageStatusVersion",c.asver),r("setDepartment",c.dptst),s["schedule/isEnabled"]||(a("triggerPageStatusAPI",c.ast),r("updatePageStatus",c.ast)),t.Tawk_Window.scheduler.calculate())}else u&&(a("triggerPageStatusAPI",u),r("updatePageStatus",u))},toggleWidget:function(t){var e=t.dispatch,n=t.state;t.rootGetters["widget/isWindowed"]?window.close():"min"===n.chatWindowState?(e("updateChatWindowState","max"),e("chat/setSeenAllUnseenMessages",null,{root:!0})):e("updateChatWindowState","min")},updateChatWindowState:function(e,n){var i=e.commit,o=e.state,r=e.rootGetters;o.chatWindowState!==n&&(i("setChatWindowState",n),"max"===n&&"pop"===r["widget/onClick"]||("max"===n?t.Tawk_Window.jsApi.triggerApiHandlers("onChatMaximized"):"min"===n&&t.Tawk_Window.jsApi.triggerApiHandlers("onChatMinimized"),t.Tawk_Window.app.$socket.publish("notifyWindowState",n)))},updateConnectionData:function(e,n){var i=e.state,o=e.commit,r=e.dispatch;void 0!==s(n.vss)&&o("setVisitorSocketServer",n.vss),void 0!==s(n.sk)&&(i.sessionKey&&i.sessionKey!==n.sk&&(t.Tawk_Window.webStorage.sessionStore.setItem("previousNav",null),r("router/routerPush","/",{root:!0})),o("setSessionKey",n.sk))},updateConsentFlag:function(t,e){(0,t.commit)("setConsentFlag",e)},updatePrechatSubmitted:function(t,e){(0,t.commit)("setPrechatSubmitted",e)},updatePreviousSessionKey:function(t,e){(0,t.commit)("setPreviousSessionKey",e)},updateIsWindowFocused:function(t,e){(0,t.commit)("setIsWindowFocused",e)},updateToken:function(e,n){var i=e.state,o=new Date;o.setSeconds(n.expiry),n.token?(i.token=n.token,t.Tawk_Window.sessionManager.storeToken(n.token)):i.token=t.Tawk_Window.sessionManager.getStoredToken(),i.tokenExpiry=o.getTime()},retrieveNewToken:function(e){return a(o().mark((function n(){var i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.dispatch,n.abrupt("return",new Promise((function(e,n){t.Tawk_Window.register.init((function(t){i("updateToken",{token:t.tkn,expiry:t.tknExp}),e()}),n)})));case 2:case"end":return n.stop()}}),n)})))()},updateVisitorChatSeen:function(e,n){(0,e.commit)("setLastMessageTimestamp",n),t.Tawk_Window.app.$socket.publish("visitorChatSeen",{timestamp:n},(function(){}))},resetState:function(t){var e=t.commit,n=t.state;e("unsetData"),clearTimeout(n.waitTimeTimeout),e("setWaitTimeFirstTime",!1),e("setWaitTimeInitialized",!1)},updateWaitTime:function(t,e){(0,t.commit)("setWaitTime",e)},addWaitTime:function(t){var e=t.commit,n=t.state,i=t.dispatch;n.waitTimeInitialized||(e("setWaitTimeInitialized",!0),i("waitTimeUpdater"))},waitTimeUpdater:function(t){var e=t.commit,n=t.state,i=t.dispatch;clearTimeout(n.waitTimeTimeout),n.waitTime<=6e4||(n.waitTimeFirstTime?(e("setWaitTime",n.waitTime-6e4),n.waitTimeTimeout=setTimeout((function(){i("waitTimeUpdater")}),6e4)):(e("setWaitTimeFirstTime",!0),n.waitTimeTimeout=setTimeout((function(){i("waitTimeUpdater")}),6e4)))},checkTokenValidity:function(t){return a(o().mark((function e(){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,i=t.state,!((new Date).getTime()>=i.tokenExpiry)){e.next=5;break}return e.next=5,n("retrieveNewToken");case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e)})))()},reconnectSession:function(t,e){t.state.isReconnecting=!!e},triggerPageStatusAPI:function(e,n){n!==e.state.pageStatus&&t.Tawk_Window.jsApi.triggerApiHandlers("onStatusChange",n)}},mutations:{setChatBubbleClosed:function(t,e){t.chatBubbleClosed=e},setVisitorSocketServer:function(t,e){t.visitorSocketServer=e},setSessionKey:function(t,e){t.sessionKey=e},setConsentFlag:function(t,e){t.needConsent=e},setPreviousSessionKey:function(t,e){t.previousSessionKey=e},setChatWindowState:function(t,e){t.chatWindowState=e},setIsWindowFocused:function(t,e){t.isWindowFocused=e},setPrechatSubmitted:function(t,e){t.prechatFormSubmitted=e},setLastMessageTimestamp:function(t,e){t.lastMessageTimestamp=e},setWaitTime:function(t,e){t.waitTime=e},setIsInactive:function(e,n){e.isInactive=n,t.Tawk_Window.webStorage.sessionStore.setItem("previousNav",null)},setOriginalPageTitle:function(t,e){t.originalPageTitle=e},setWaitTimeFirstTime:function(t,e){t.waitTimeFirstTime=e},setWaitTimeInitialized:function(t,e){t.waitTimeInitialized=e},setDepartment:function(t,e){t.departments=e},unsetData:function(t){for(var e={chatBubbleClosed:!1,chatWindowState:"min",departments:[],isWindowFocused:!1,needConsent:!1,pageStatus:"",pageStatusVersion:0,prechatFormSubmitted:!1,previousSessionKey:null,restarted:!1,sessionKey:"",visitorSocketServer:"",waitTime:6e4,lastMessageTimestamp:0,token:null,tokenExpiry:0,isInactive:null,originalPageTitle:null,pageReferrer:null,waitTimeTimeout:null,waitTimeFirstTime:!1,waitTimeInitialized:!1,isReconnecting:!1,isNotValidEmail:null},n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];"pageStatus"!==o&&(t[o]=e[o])}},setIsNotValidEmail:function(t,e){t.isNotValidEmail=e},updatePageStatus:function(t,e){t.pageStatus=e},updatePageStatusVersion:function(t,e){t.pageStatusVersion=e}}}}.call(this,n("c8ba"))},"3dfd":function(t,e,n){"use strict";var i=n("8079").a,o=n("2877"),r=Object(o.a)(i,(function(){var t=this,e=t._self._c;return e("div",{class:[t.isVisible?"widget-visible":"widget-hidden"],attrs:{id:t.elementId}},[e("div",{attrs:{id:"min-widget"}}),e("div",{attrs:{id:"max-widget"}}),e("div",{attrs:{id:"message-preview"}}),e("div",{attrs:{id:"chat-bubble"}})])}),[],!1,null,null,null);e.a=r.exports},4360:function(t,e,n){"use strict";var i=n("2b0e"),o=n("2f62");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n("cca6");var c={},u={modules:{}};!function(){var t=n("c3e1");t.keys().forEach((function(e){var n=t(e);if(c[e]!==n){c[e]=n;var i=e.replace(/^\.\//,"").replace(/\.\w+$/,"").split(/\//).map((function(t){var e,n,i=t.split("-");i.length&&((e=i.splice(0,1)).length&&(n=(e=e[0].toLowerCase()).charAt(0).toLowerCase()+e.slice(1)));for(var o=0;o<i.length;o++){var r=i[o].toLowerCase();n+=r.charAt(0).toUpperCase()+r.slice(1)}return n})),o={};o[i.pop()]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n.default),u.modules=Object.assign(o,u.modules)}}))}();var l=u.modules;i.a.use(o.a),void 0!==window.Prototype&&"string"==typeof window.Prototype.Version&&parseFloat(window.Prototype.Version.substr(0,3),10)<=1.6&&Object.defineProperty(Array.prototype,"reduce",{value:function(t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError("".concat(t," is not a function"));var e,n=Object(this),i=n.length>>>0,o=0;if(arguments.length>=2)e=arguments[1];else{for(;o<i&&!(o in n);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");e=n[o++]}for(;o<i;)o in n&&(e=t(e,n[o],o,n)),o++;return e}}),e.a=new o.a.Store({actions:{reset:function(t){for(var e=t.dispatch,n=Object.keys(l),i=0;i<n.length;i++){var o=n[i];e("".concat(o,"/resetState"))}}},modules:l})},"43af":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s}));var i=n("bdd0");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var s=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.store=e,this.languageScript}),[{key:"getSettings",value:function(t,e){var n=this,o={propertyId:this.store.getters["property/id"],widgetId:this.store.getters["widget/id"]},r=window.sessionStorage.getItem("tawk_sv");this.version?o.sv=this.version:o.sv=void 0!==r?r:null,i.a.get("".concat("https://va.tawk.to","/v1/widget-settings"),o,null,(function(i,o){if(i)return e(i);n.languageScript&&n.languageScript.parentNode&&n.languageScript.parentNode.removeChild(n.languageScript),n.languageScript=document.createElement("script"),document.body.appendChild(n.languageScript),n.languageScript.onload=function(){n.processSettings(o.data),t(o.data.settingsVersion)},n.languageScript.async=!0,n.languageScript.charset="UTF-8",n.languageScript.src="".concat("https://embed.tawk.to/_s/v4/app/66909c6d5c9","/languages/").concat(o.data.widget.language,".js")}))}},{key:"processSettings",value:function(t){t&&(this.version=t.settingsVersion,this.store.commit("widget/setData",t.widget),this.store.commit("widget/setWebrtcOptions",t.webrtc),this.store.dispatch("widget/updateBranding",t.branding),void 0!==t.widget.agentDrivenStatus&&!1===t.widget.agentDrivenStatus&&this.store.dispatch("session/setPageStatus",{status:"online"}))}},{key:"xOffset",value:function(){var e,n,i=null===(e=t.Tawk_Window.jsApi)||void 0===e||null===(e=e.local_API)||void 0===e||null===(e=e.customStyle)||void 0===e?void 0:e.visibility;if(void 0!==(null==i||null===(n=i.desktop)||void 0===n?void 0:n.xOffset)){var o=i.desktop.xOffset;if("string"==typeof o&&(o=parseInt(i.desktop.xOffset.replace("px",""),10)),!isNaN(o))return o}return this.store.getters["widget/isCenter"]&&!this.store.getters["widget/isRoundWidget"]?0:this.store.getters["widget/xOffset"]}},{key:"yOffset",value:function(){var e,n,i=null===(e=t.Tawk_Window.jsApi)||void 0===e||null===(e=e.local_API)||void 0===e||null===(e=e.customStyle)||void 0===e?void 0:e.visibility;if(void 0!==(null==i||null===(n=i.desktop)||void 0===n?void 0:n.yOffset)){var o=i.desktop.yOffset;if("string"==typeof o&&(o=parseInt(i.desktop.yOffset.replace("px",""),10)),!isNaN(o))return o}return this.store.getters["widget/isCenter"]?0:this.store.getters["widget/yOffset"]}},{key:"xOffsetMobile",value:function(){var e,n,i=null===(e=t.Tawk_Window.jsApi)||void 0===e||null===(e=e.local_API)||void 0===e||null===(e=e.customStyle)||void 0===e?void 0:e.visibility;if(void 0!==(null==i||null===(n=i.mobile)||void 0===n?void 0:n.xOffset)){var o=i.mobile.xOffset;if("string"==typeof o&&(o=parseInt(o.replace("px",""),10)),!isNaN(o))return o}return this.store.getters["widget/isCenter"]&&!this.store.getters["widget/isRoundWidget"]?0:this.store.getters["widget/xOffsetMobile"]}},{key:"yOffsetMobile",value:function(){var e,n,i=null===(e=t.Tawk_Window.jsApi)||void 0===e||null===(e=e.local_API)||void 0===e||null===(e=e.customStyle)||void 0===e?void 0:e.visibility;if(void 0!==(null==i||null===(n=i.mobile)||void 0===n?void 0:n.yOffset)){var o=i.mobile.yOffset;if("string"==typeof o&&(o=parseInt(o.replace("px",""),10)),!isNaN(o))return o}return this.store.getters["widget/isCenter"]?0:this.store.getters["widget/yOffsetMobile"]}},{key:"bubbleXOffset",value:function(){var e,n,i,o=null===(e=t.Tawk_Window.jsApi)||void 0===e||null===(e=e.local_API)||void 0===e||null===(e=e.customStyle)||void 0===e?void 0:e.visibility;if(void 0!==(null==o||null===(n=o.bubble)||void 0===n?void 0:n.xOffset)){var r=o.bubble.xOffset;if("string"==typeof r&&(r=parseInt(r.replace("px",""),10)),!isNaN(r))return r}if(void 0!==(null==o||null===(i=o.desktop)||void 0===i?void 0:i.position)){var a,s=null==o||null===(a=o.desktop)||void 0===a?void 0:a.position;if(s&&this.store.getters["widget/desktopVisibility"].position!==s)return this.store.getters["widget/isCenter"]?this.store.getters["widget/minDesktop"].height+5:0}return this.store.getters["widget/bubble"].config.offsetX}},{key:"bubbleYOffset",value:function(){var e,n,i,o=null===(e=t.Tawk_Window.jsApi)||void 0===e||null===(e=e.local_API)||void 0===e||null===(e=e.customStyle)||void 0===e?void 0:e.visibility;if(void 0!==(null==o||null===(n=o.bubble)||void 0===n?void 0:n.yOffset)){var r=o.bubble.yOffset;if("string"==typeof r&&(r=parseInt(r.replace("px",""),10)),!isNaN(r))return r}if(void 0!==(null==o||null===(i=o.desktop)||void 0===i?void 0:i.position)){var a,s=null==o||null===(a=o.desktop)||void 0===a?void 0:a.position;if(s&&this.store.getters["widget/desktopVisibility"].position!==s)return this.store.getters["widget/isCenter"]?0:this.store.getters["widget/minDesktop"].height+5}return this.store.getters["widget/bubble"].config.offsetY}},{key:"bubbleRotate",value:function(){var e,n,i=null===(e=t.Tawk_Window.jsApi)||void 0===e||null===(e=e.local_API)||void 0===e||null===(e=e.customStyle)||void 0===e?void 0:e.visibility;if(void 0!==(null==i||null===(n=i.bubble)||void 0===n?void 0:n.rotate)){var o=i.bubble.rotate;if("string"==typeof o&&(o=parseInt(o.replace("deg",""),10)),!isNaN(o)&&-1!==[0,90,-90].indexOf(o))return o}return this.store.getters["widget/bubble"].config.rotate}},{key:"isRoundWidget",value:function(){var e,n,i=this.store.getters["widget/isRoundWidget"],o=null===(e=t.Tawk_Window.jsApi)||void 0===e||null===(e=e.local_API)||void 0===e||null===(e=e.customStyle)||void 0===e?void 0:e.visibility;if(void 0!==(null==o||null===(n=o.desktop)||void 0===n?void 0:n.position)){var r,a=null==o||null===(r=o.desktop)||void 0===r?void 0:r.position;if(this.store.getters["widget/desktopVisibility"].position!==a)return!1}return i}}])}).call(this,n("c8ba"))},"56d7":function(t,e,n){"use strict";n.r(e),function(t){var e,i=n("2b0e"),o=n("4360"),r=n("745f");i.a.config.productionTip=!1,t.Tawk_Window={maximize:!1};var a=new r.a;t.Tawk_Window.registerWithConsent=function(){t.Tawk_Window.maximize=!0,t.Tawk_Window.sessionManager.storeSessionInformation(!0),new Promise((function(e,n){t.Tawk_Window.register.init(e,n)})).then((function(e){a.extractRegistrationData(e),t.Tawk_Window.app.$socket.connect(),o.a.dispatch("router/clearHistory"),t.Tawk_Window.sessionManager.storeSessionInformation(!0),t.Tawk_Window.popoutWin&&t.Tawk_Window.popoutWin.postMessage("twkPopWidgetRegister","*")}))},t.Tawk_Window.retryRegister=function(){new Promise((function(e,n){t.Tawk_Window.register.init(e,n)})).then((function(e){a.extractRegistrationData(e),t.Tawk_Window.app.$socket.connect()}))},t.Tawk_Window.popoutWidget=function(){var e=o.a.getters["property/id"],n=o.a.getters["widget/id"],i=o.a.getters["widget/branding"],r="".concat("https://tawk.to","/chat/").concat(e,"/");o.a.dispatch("session/updateChatWindowState","min"),t.Tawk_Window.popoutWin&&!t.Tawk_Window.popoutWin.closed&&t.Tawk_Window.popoutWin.focus?t.Tawk_Window.popoutWin.focus():(i&&i.whitelabeled&&i.popoutBaseUrl&&(r="".concat(i.popoutBaseUrl,"/chat/")),t.Tawk_Window.popoutWin=window.open(r+n+"?pop=1","Tawk","height=500, width=450, resizable=yes, toolbar=no, location=no, menubar=no, personalbar=no"))},t.Tawk_Window.criticalRefresh=function(t){if(o.a.getters["widget/isWindowed"])return window.location.reload(!!t);delete window.$_Tawk.downloaded,o.a.dispatch("router/clearHistory"),a.connect()},t.Tawk_Window.updateBootConfig=function(t){a.updateConfig(t)},window.addEventListener("beforeunload",(function(){t.Tawk_Window&&t.Tawk_Window.logger&&(t.Tawk_Window.logger.unloading=!0)})),window.addEventListener("message",(function(e){if(!t.Tawk_Window.popoutWin||"getTwkWidgetUUID"!==e.data)return"twkRegisterWConsent"===e.data&&e.source===t.Tawk_Window.popoutWin?t.Tawk_Window.registerWithConsent():void(o.a.getters["widget/isPopout"]&&"twkPopWidgetRegister"===e.data&&e.source===window.opener&&t.Tawk_Window.registerWithConsent());t.Tawk_Window.popoutWin.postMessage({twkWidgetUUID:o.a.getters["visitor/uuid"]},e.origin)}),!1),a.init({visitor:null===(e=window.Tawk_API)||void 0===e?void 0:e.visitor})}.call(this,n("c8ba"))},5868:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=["(?:(?:[a-z]+:)?//)?","(?:\\S+(?::\\S*)?@)?","(?:localhost|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))","(?::\\d{2,5})?",'(?:[/?#][^\\s"]*)?'].join(""),o={regLineBreaks:/(\r\n|\n|\r)/gm,regBr:/<br\/>/,regMatchUrl:new RegExp("(?:^"+i+"$)","i"),regMatchIp:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?\/([a-zA-Z0-9!$&'()*+.=-_~:@\\/\\?#]+)+)\b/gi,regEmailMatch:/^((mailto:){0,1}[a-zA-Z0-9_.\-+])+@(([a-zA-Z0-9\\-])+\.)+([a-zA-Z0-9]+)$/,regTelMatch:/^(tel:\+|\+|tel:){1}(?:[0-9\-\(\)\/\.]\s?){6,15}[0-9]{1}\b/gi,br:"<br/>",getTargetElement:function(t){var e=t.target||t.srcElement;return 3===e.nodeType&&(e=e.parentNode),e},formatFileSize:function(t){var e=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];if(!(t=parseInt(t,10)))return"0Bytes";for(var n=1;n<e.length;n++)if(t<Math.pow(1024,n))return Math.round(t/Math.pow(1024,n-1)*100)/100+e[n-1];return t}}},"65b3":function(t,e,n){"use strict";(function(t){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}function r(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}n("cc70"),e.a=new(function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.chatWindowStates={min:!0,max:!0},this.io=null,this.selfOrigin=null,this.disconnect=!1,this.ready=!1,this.banned=!1,this.forceDisconnected=!1,this.clearRegisterRetryTimeout=null,this.events={},this.stack=[],this.connectCount=0}),[{key:"install",value:function(t,e){var n=e.store;t.prototype.$socket=this,this.store=n}},{key:"connect",value:function(){var e,n=this,i=(new Date).getTime();window.$_Tawk.connected=!1,this.disconnect=!1,this.forceDisconnected=!1,5!==this.connectCount?(this.io&&(this.io.removeAllListeners(),this.io.disconnect()),e={k:this.store.getters["session/sessionKey"],cver:this.store.getters["chat/chatVersion"],pop:this.store.getters["widget/isWindowed"],asver:this.store.getters["session/pageStatusVersion"],tkn:this.store.getters["session/token"]},this.connectCount++,this.io=new window.$__TawkSocket("wss://".concat(this.store.getters["session/visitorSocketServer"],"/"),{transports:["websocket"],engineIo:window.$__TawkEngine,path:"/s",query:e}),this.io.on("disconnect",(function(){n.disconnectHandler()})),this.io.on("error",(function(e){var i,o="socket on error";if(e instanceof Error){if(i={toString:e.toString(),stack:e.stack,lineNumber:e.lineNumber,fileName:e.fileName},t.Tawk_Window.logger.unloading&&-1===i.toString.indexOf("post"))return;"TransportError"===e.type&&(i.description=e.description),-1!==i.toString.indexOf("post")&&(o="socket post error")}else i=e;t.Tawk_Window.logger.reportIncident(o,i),n.io.disconnect(),n.disconnectHandler()})),this.io.on("connect",(function(){n.disconnect=!1,n.store.dispatch("session/reconnectSession",!1)})),this.io.on("ready",(function(e,o,r){if(!t.Tawk_Window)return n.disconnectSocket();n.selfOrigin=e,window.$_Tawk.connected=!0,n.ready||(window.$_Tawk.loaded=!0,void 0!==window.Tawk_LoadStart&&t.Tawk_Window.logger.reportPerformance({socket:(new Date).getTime()-i,register:t.Tawk_Window.register.registerTime,widget:(new Date).getTime()-window.Tawk_LoadStart,script:(new Date).getTime()-t.$_Tawk.startTime,download:t.$_Tawk.startTime-window.Tawk_LoadStart})),n.ready=!0,n.store.dispatch("chat/updateConversation",o),n.store.dispatch("session/setPageStatus",{data:r}),n.store.dispatch("socket/updateIsReady",!0),n.clearStack(),clearTimeout(n.clearRegisterRetryTimeout),n.clearRegisterRetryTimeout=setTimeout((function(){n.disconnect||t.Tawk_Window.register.resetRetryCount(),n.clearRegisterRetryTimeout=null}),5e3)})),this.io.on("remoteDisconnect",(function(e){if("BANNED"!==(e=e||{}).msg)n.io.disconnect(),n.disconnectHandler();else{n.banned=!0;try{n.io.disconnect()}catch(t){}t.Tawk_Window.eventBus.$emit("removeWidget")}})),this.addEventListeners()):this.store.commit("widget/setVisibility",!1)}},{key:"disconnectSocket",value:function(){this.forceDisconnected=!0,this.io&&(this.io.disconnect(),this.disconnectHandler())}},{key:"disconnectHandler",value:function(){window.$_Tawk.connected=!1,this.io.removeAllListeners(),t.Tawk_Window.scheduler.cleanUp(),this.banned||this.forceDisconnected||this.disconnect?this.connectCount=0:(this.disconnect=!0,this.store.dispatch("session/reconnectSession",!0),t.Tawk_Window.retryRegister())}},{key:"addEventListeners",value:function(){var e=this;this.io.on("visitorChatWindowState",(function(t){e.selfOrigin!==t.origin&&e.store.commit("session/setChatWindowState",t.cw)})),this.io.on("visitorSound",(function(t){t.origin!==e.selfOrigin&&e.store.dispatch("widget/toggleLocalSound",!!t.sdo)})),this.io.on("pageStatus",(function(t){e.store.dispatch("session/setPageStatus",{data:t})})),this.io.on("visitorPopupFocus",(function(t){t=t||{},e.store.dispatch("session/updateIsWindowFocused",!!t.hasFocus)})),this.io.on("chatBubbleClosed",(function(t){t.origin!==e.selfOrigin&&e.store.dispatch("session/closeChatBubble",!0)})),this.io.on("pageDisable",(function(){e.disconnectSocket(),t.Tawk_Window.eventBus.$emit("removeWidget")})),this.io.on("vCallStatus",(function(e){t.Tawk_Window.chatManager.callStatusUpdate(e)})),this.io.on("widgetScheduleUpdate",(function(n){var i=e.store.getters["widget/id"];i&&i!==n.wdgt||(e.store.dispatch("schedule/addSlots",n.ws?{config:{schedule:n.ws.sch}}:null),e.store.dispatch("schedule/updateTimezone",n.wstz),t.Tawk_Window.scheduler.calculate())})),(this.store.getters["widget/hasLiveChat"]||this.store.getters["chat/hasChatStarted"]&&(!this.store.getters["chat/hasChatStarted"]||0!==this.store.getters["chat/agentsCount"]))&&(this.io.on("visitorDataUpdate",(function(t){e.selfOrigin!==t.origin&&(e.store.dispatch("visitor/updateVisitorInformation",t),t.dpt&&e.store.dispatch("chat/updateDepartment",t.dpt),t.pcfs&&e.store.dispatch("session/updatePrechatSubmitted",!0))})),this.io.on("visitorMessage",(function(t){e.selfOrigin!==t.origin&&e.store.dispatch("chat/incomingChatMessage",t)})),this.io.on("visitorConversationPresenceUpdate",(function(t){e.store.dispatch("chat/incomingChatMessage",t)})),this.io.on("visitorChatSeen",(function(e){t.Tawk_Window.chatManager.clearUnseenNotification(e)})),this.io.on("visitorChatDismiss",(function(e){t.Tawk_Window.eventBus.$emit("dismissPreview",e)})),this.io.on("visitorTagsUpdate",(function(e){t.Tawk_Window.jsApi.triggerApiHandlers("onTagsUpdated",e)})),this.io.on("uploadProgress",(function(e){t.Tawk_Window.chatManager.updateFileProgress(e)})),this.io.on("uploadFinished",(function(e){t.Tawk_Window.chatManager.updateFileProgress(e,!0)})),this.io.on("uploadError",(function(e){t.Tawk_Window.chatManager.updateFileProgress(e,!1,!0)})),this.io.on("agentIsTyping",(function(e){t.Tawk_Window.eventBus.$emit("agentIsTyping",e)})),this.io.on("agentStopedTyping",(function(e){t.Tawk_Window.eventBus.$emit("agentStopedTyping",e)})),this.io.on("visitorChatTransfer",(function(e){t.Tawk_Window.chatManager.chatTransferUpdate(e.transfer,e.transferVersion)})))}},{key:"isForcedDisconnect",value:function(){return this.forceDisconnected}},{key:"publish",value:function(t,e,n){if(window.$_Tawk.connected)if(void 0!==n||"function"==typeof e)this.wrapCallback(t,e,n);else try{this.send(t,e,n)}catch(t){}else this.addToStack(t,e,n)}},{key:"addToStack",value:function(t,e,n){"sendChatMessage"===t&&delete this.events.notifyMessagePreview,"notifyMessagePreview"===t?this.events[t]={command:t,data:e,callback:n}:this.stack.push({command:t,data:e,callback:n})}},{key:"clearStack",value:function(){var t=this;for(var e in this.stack.forEach((function(e){t.publish(e.command,e.data,e.callback)})),this.events)this.publish(this.events[e].command,this.events[e].data,this.events[e].callback);this.stack=[],this.events={}}},{key:"wrapCallback",value:function(t,e,n){var i,o;"function"==typeof e&&(n=e,e=null),i=setTimeout((function(){throw n(!0),new Error("Socket server did not execute the callback for "+t+" with data : "+JSON.st